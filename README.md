# bitrixexam
Задания из первого билета: https://academy.1c-bitrix.ru/upload/academy-docs/exam_dev/Ex2Demo1.pdf

1. [ex2-34] Установить значение тега meta «specialdate» в компоненте news.list
Общие требования
• Расширить возможности типового компонента news.list. Компонент расположен по адресу
/news/ и выводит информацию из инфоблока Новости.
• Создание нового компонента или подмена стандартного через local будет неверным
решением, компонент должен остаться типовой. Нужно воспользоваться расширением его
возможностей с помощью специальных файлов шаблона.
• Алгоритм решения, при котором будет использоваться некэшируемое обращение к базе
данных - не будет верным.

Решаемая задача
• В шаблон сайта, в файле header.php добавить тег <meta property= "specialdate" content="">,
перед тегом title. Управление значением content для разделов сайта и статичных страниц
должно быть доступно администратору сайта.
• Для всех страниц сайта по умолчанию значение тега установить равным «100».
• В настройки компонентов news и news.list добавить параметр в виде чек-бокса: «Установить
свойство страницы specialdate». Значение параметра передавать из настроек комплексного
компонента news в news.list на соответствующей странице комплексного компонента.
• Если параметр компонента «Установить свойство страницы specialdate» активен, то:
  o Определить дату новости, отображаемой первой на текущей странице
  o Полученный результат установить как значение тега

2. [ex2-51] Изменение данных в письме
• Реализовать установку данных отсылаемых в письме по почтовому событию FEEDBACK_FORM,
после заполнения формы, создаваемой компонентом bitrix:main.feedback
• Для проверки работу решения создать раздел сайта /ex2/feedback/, добавить пункт в главное
меню «Экзамен2», и пункт в левом меню «Форма обратной связи».
• Создание нового компонента, типа почтового события или почтового шаблона - будет
неверным решением, должны использоваться типовые.
• Макрос #AUTHOR# должен получить значение
  o Если пользователь не авторизован: «Пользователь не авторизован, данные из
формы: Имя пользователя». Где Имя пользователя – значение из соответствующего
поля формы
  o Если пользователь авторизован: «Пользователь авторизован: id (логин) имя, данные
из формы: Имя пользователя». Где id, логин, имя – данные пользователя в системе,
Имя пользователя – значение из соответствующего поля формы
• Почтовый сервер складывает письма в папку /home/bitrix/mail, можно проверить решение.
• Добавлять запись в журнал событий: «Замена данных в отсылаемом письме – [AUTHOR]». Где
[AUTHOR] - это данные макроса AUTHOR подставленного в письмо.

3. [ex2-70] Разработать простой компонент «Каталог товаров»
Общие требования
• У созданного компонента задать код: simplecomp.exam, название: «Мой компонент», раздел
для отображения компонента в визуальном редакторе: «Экзамен №2».
• Работу решения продемонстрировать в разделе сайта /ex2/simplecomp/, добавить пункт в
главное меню «Экзамен2», и пункт в левом меню «Простой компонент».

Решаемая задача
• Компонент должен выводить список товаров, сгруппированных по альтернативному
классификатору. Альтернативный классификатор – новости.
• Будет использоваться множественная привязка разделов каталога товаров к
альтернативному классификатору – новостям. Привязка элементов к разделам в инфоблоке
Продукция остается по умолчанию, задавать множественную - не нужно.
• Используется только один уровень разделов, вложенности – не будет.
• Большой объем разделов и элементов не предполагается (не более 20 разделов и 100
элементов), лимиты на выборку и постраничная навигация – не нужны.
Технические требования
• Использовать при решении метод GetMixedList – нельзя.
• Компонент должен иметь только такие параметры:
  o ID инфоблока с каталогом товаров, строка.
  o ID инфоблока с новостями, строка.
  o Код пользовательского свойства разделов каталога, в котором хранится привязка к
новостям, строка.
  o Типовые настройки кеширования: авто+управляемое, кешировать, не кешировать, и
время кеширования.
  o Выбор шаблона.
• Условия кеширования результата работы компонента - по умолчанию, не зависит от
дополнительных данных.

Инфоблоки, получаемые данные
• Использовать существующий информационный блок Продукция.
• У разделов в инфоблоке Продукция создать множественное пользовательское свойство: код
UF_NEWS_LINK, тип – привязка к элементам инфоблока, инфоблок – новости.
• Каждому разделу в инфоблоке Продукция задать привязку к нескольким новостям.
(для возможности отображения пользовательских полей в списке – настройте инфоблок на
раздельный просмотр разделов и элементов)
• Используемые в шаблоне данные разделов каталога товаров:
  o Поля: название.
• Используемые в шаблоне данные элементов:
  o Поля: название.
  o Свойства: материал, артикул, цена.
• Используемые в шаблоне данные новостей:
  o Поля: название, дата активности.
• Должны выбираться только активные разделы и элементы из обоих инфоблоков.
• Сортировка при отборе не задается.

Установка заголовка страницы
• В компоненте устанавливать заголовок страницы: «В каталоге товаров представлено
товаров: [Количество]» где Количество – количество отображаемых товаров.
• Заголовок должен устанавливаться в файле component.php. Этот функционал является логикой
компонента и не должен «теряться» при смене шаблона.
Отображение данных
• Строится дерево разделов альтернативного классификатора и элементов, относящихся к нему.
• Рядом с названием альтернативного классификатора отображаются:
  o Дата активности.
  o Название связанных разделов каталога.

4. [ex2-82] Добавить отображение данных в шаблон сайта
Общие требования
• Реализовать отображение данных в шаблоне сайта, при нахождении на странице с простым
компонентом, созданным ранее.
• Задание решить путем доработки созданного ранее компонента и его шаблона.
• Решение задания путем размещением компонента в шаблоне сайта – не будет верным.
• Алгоритм решения, при котором будет использоваться некэшируемое обращение к базе
данных - не будет верным.

Решаемая задача
• В левую колонку вынести максимальную и минимальную цену, по полученным в компоненте
товарам.
• Вывод оформить следующей версткой: <div style="color:red; margin: 34px 15px 35px 15px">---
Текст из компонента ---</div>

5. [ex2-25] Создание комплексного компонента «Моя фотогалерея»
Общие требования
• Расширить возможности стандартного комплексного компонента Фотогалерея (photo),
добавить в него новую страницу exampage.php и переменные.
• Для новой страницы exampage.php реализовать поддержку как ЧПУ так и не ЧПУ режима.
• Для решения предоставляются материалы – заготовка компонента, complexcomp.exammaterials. Это компонент photo, с добавленными заглушками в параметрах, созданной
страницей exampage.php. Необходимо реализовать логику в файле component.php и вывод в
шаблоне по заданию.
• Работу решения продемонстрировать в разделе сайта /ex2/complexcomponent/, добавить пункт
в главное меню «Экзамен2», и пункт в левом меню «Комплексный компонент».

Доработка компонента
• Добавить 2 переменные для построения адреса страницы: PARAM1, PARAM2
• Шаблон адреса по умолчанию для страницы exampage.php при ЧПУ режиме:
«exam/new/123/?PARAM2=456, где 123 это значение переменой PARAM1, 456 - PARAM2
• Условие, по которому открывается страница exampage.php без ЧПУ режима: задано значение
переменной PARAM1.
• В не ЧПУ режиме на страницу exampage.php должны передаваться значения всех созданных
переменных: PARAM1, PARAM2.
• В настройках компонента реализовать
  o Для ЧПУ режима: управление шаблоном адреса страницы exampage.php
  o Для не ЧПУ режима: управление именами переменных.

Отображение данных
• На странице компонента sections_top.php вывести ссылку, на основании шаблона пути на
страницу exampage.php. Для проверки решения подставить в нее тестовые значениями
переменных: PARAM1 = 123, PARAM2 = 456.
• Значения можно подставить с помощью str_replace.
• С настройкой адресов «по умолчанию» ссылка должна получится такая (жирным выделены
подставленные тестовые значения переменных):
  o для ЧПУ режима: /ex2/complexcomponent/exam/new/123/?PARAM2=456
  o для не ЧПУ режима: /ex2/complexcomponent/?PARAM1=123&PARAM2=456
• На странице exampage.php вывести значение переменных PARAM1, PARAM2



Задания из второго билета: https://academy.1c-bitrix.ru/upload/academy-docs/exam_dev/Ex2Demo2.pdf

1. [ex2-108] link rel="canonical" для детальной новости
Общие требования
• Задачу решить через свойство страницы и расширение возможностей типового компонента
news.detail. Компонент расположен по адресу /news/ в составе комплексного и отображает
детальную страницу новости. Комплексный компонент отображает данные из инфоблока
Новости.
• Создание нового компонента или подмена стандартного через local будет неверным
решением, компонент должен остаться типовой. Нужно воспользоваться расширением его
возможностей с помощью специальных файлов шаблона.
• Алгоритм решения, при котором будет использоваться некэшируемое обращение к базе
данных - не будет верным.

Решаемая задача
• Создать информационный блок Canonical (тип Новости)
• В созданном информационном блоке создать свойство Новость , тип привязка к
информационному блоку Новости.
• Добавить элемент в инфоблок Canonical
Название http://test.ru/test/
Привязка к новости [2] Международная мебельная выставка SALON DEL MOBILE
• В настройки компонентов news и news.detail добавить строковый параметр: «ID
информационного блока для rel=canonical». Значение параметра передавать из настроек
комплексного компонента news в news.detail на соответствующей странице комплексного
компонента.
• Создать свойство страницы «canonical», добавить в шаблоне сайта вывод значения свойства в
шаблоне сайта в блоке <head>.
• Доработать шаблон компонента news.detail для раздела /news/:
 o если в параметрах задан «ID информационного блока для rel=canonical» - найти
элемент из соответствующего инфоблока (в нашем случае это Canonical) с привязкой к
текущей новости
 o если элемент найден - указать свойство страницы canonical равное: <link
rel="canonical" href="http://test.ru/test/">, где http://test.ru/test/ - название элемента
инфорблока Canonical
• Проверить, что на детальной странице новости «Международная мебельная выставка SALON
DEL MOBILE» в <head> страницы появилась строка <link rel="canonical"
href="http://test.ru/test/">

2. [ex2-95] Упростить меню в адмистративном разделе для контент-менеджера
• Если пользователь принадлежи группе «Контент-редакторы» (уже создана, дать права на
редактирование иблока «Новости»), то в административном разделе для него убрать из левого
меню все пункты кроме Контент и его подпункта Новости.
• Если пользователь администратор – то он должен видеть полный список меню.
• Создать пользователя с данными, логин: manager, почта manager@manager.ru, пароль 925526
• Поместить его в группу «Контент-редакторы», авторизоваться из-под него, проверить
построение меню
• Страница редактирования информационного блока
/bitrix/admin/iblock_list_admin.php?IBLOCK_ID=1&type=news&lang=ru

3. [ex2-97] Разработать простой компонент «Новости по интересам»
Общие требования
• У созданного компонента задать код: simplecomp.exam, название: «Простой компонент»,
раздел для отображения компонента в визуальном редакторе: «Экзамен №2».
• Для решения предоставляются материалы – заготовка компонента, simplecomp.exam-materials.
В заготовке создана необходимая файловая структура, и демо-вызов API по выборке. Эти
материалы можно не использовать, предоставляются для ускорения решения задания.
• Работу решения продемонстрировать в разделе сайта /ex2/simplecomp/, добавить пункт в
главное меню «Экзамен2», и пункт в левом меню «Простой компонент».
Используемые данные
• Добавить пользовательское свойство для пользователей.
  название: "Тип автора"
  код: "UF_AUTHOR_TYPE"
  тип: список, значения: группа авторов 1, группа авторов 2
  обязательное: нет
  множественное: нет
  значение по умолчанию: группа авторов 1
• Создать трех тестовых пользователей, логины: test1, test2, test3.
• Задать значения свойства «Тип пользователя»:
  o admin, test1, test2 – группа 1.
  o test3 – группа 2.
• В информационном блоке Новости добавить множественное свойство – Автор, тип -
привязка к пользователю.
• Добавить три тестовые новости с произвольным контентом.
• Задать значение свойства Автор для новостей:
  o «Международная мебельная выставка SALON DEL MOBILE» – пользователи test1, test2
  o «Мебельный форум Беларуси» - пользователь test1
  o «Получено прочное водостойкое соединение» – пользователь admin
  o «Тестовая новость №1» - пользователь test3
  o «Тестовая новость №2» - пользователи test2, test3
  o «Тестовая новость №3» - пользователи admin, test2

  Решаемая задача
• Компонент должен выводить список авторов, рядом с автором – список его новостей.
• Отображаются только те авторы, у которых тот же «тип» что и у текущего пользователя.
• Новости, в которых в авторстве присутствует текущий пользователь, не выводятся у других
авторов.
• Неавторизованному пользователю данные не выводятся.
• Текущий пользователь и его новости – не выводятся.
• Большой объем данных не предполагается, лимиты на выборку и постраничная навигация – не
нужны.
• Используемые в шаблоне поля новостей: название, дата активности.
• Используемые в шаблоне поля пользователей: id, логин.

Технические требования
• Использовать при решении метод GetMixedList – нельзя.
• Компонент должен иметь параметры:
  o ID информационного блока с новостями, строка.
  o Код свойства информационного блока, в котором хранится Автор, строка. При
реализации компонента использовать значение этого параметра.
  o Код пользовательского свойства пользователей, в котором хранится тип автора,
строка. При реализации компонента использовать значение этого параметра.
  o Типовые настройки кеширования: авто+управляемое, кешировать, не кешировать, и
время кеширования.
  o Выбор шаблона.
• Зависимость кеширования – от пользователя.
Установка заголовка страницы
• В компоненте устанавливать заголовок страницы: «Новостей [Количество]». Где Количество
– количество выводимых уникальных новостей.
• Заголовок должен устанавливаться в файле component.php. Этот функционал является логикой
компонента и не должен «теряться» при смене шаблона.

4. [ex2-100] Добавить пункт «ИБ в админке» в выпадающем меню компонента.
Решаемая задача
• В созданном ранее простом компоненте добавить пункт меню «ИБ в админке».
• По клику на пункт – происходит перенаправление на страницу со списком элементов
информационного блока в административной части.
• Информационный блок - который указывается в параметрах компонента и определяет каталог
товаров.

5. [ex2-102] Добавить англоязычную версию сайта (один инфоблок).
Общие требования
• Создать второй сайт:
  o используя принцип размещения – на одном доме;
  o язык – английский.
• Второй сайт разместить в разделе первого сайта, путь /ex2/site2/, добавить пункт в главное
меню «Экзамен2», и пункт в левом меню «Второй сайт».

  Используемые данные
• Используется существующий информационный блок Новости.
• Добавить 3 свойства информационного блока:
  o название на английском, строка;
  o анонс на английском, текст.
• Настроить страницу редактирования элемента информационного блока так, чтобы свойство с
английским текстом было расположено под аналогичным полем с русским текстом.
• Заполнить значения для существующих 3х новостей
  
ID Название на английском Анонс на английском
1 Furniture Forum of Belarus From April 20 to April 23, 2010 the Furniture Forum of
Belarus will be held - the most important event of the
industry this year.
2 International furniture
exhibition SALON DEL MOBILE
In 2010, the exhibition Salon del Mobile promises to be
even more extensive and interesting.
3 Obtained a strong waterproof
compound
The invention relates to the production and use of
adhesives used in the woodworking, furniture and
construction industries.

  Решаемая задача
• Шаблон второго сайта – из материалов к заданию, /ex2-102-
materials/ex2_multilang_template_materials /.
• Структура второго сайта – 2 страницы, главная и about, отразить в верхнем меню.
  o about – файл about.php из материалов к заданию, /ex2-102-materials/site/about.php
  o Главную – создать пустой, заголовок Furniture company.
• На главной странице разместить компонент, выводящий список новостей:
  o Дата – начало активности, формат отображения Месяц/День/Год, формат должен быть
задан на уровне всего сайта, а не компонента.
  o Название – значение свойства «название на английском»
  o Текст анонса - значение свойства «текст анонс на английском».
  o Детальный просмотр новости и ссылка на него – не реализуются.
• В шаблоне второго сайта отобразить редактируемую область со слоганом, файл из материалов
/ex2-102-materials/site/motto.php
• В шаблонах сайтов добавить переключатель языков (сайтов)
  o Вывести переключатель в правой колонке сайта, в блоке Choose language с помощью
соответствующего компонента.
  o Изменить типовой шаблон компонента, сделать выпадающий список, текст значений в
котором - код языка (en, ru).
  o Продублировать вывод блока с переключением сайта в шаблоне первого сайта.
  o При этом шаблон компонента должен быть физически один и для первого и для
второго сайта
